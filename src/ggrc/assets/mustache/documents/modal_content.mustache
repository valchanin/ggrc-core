{{!
    Copyright (C) 2018 Google Inc.
    Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
}}

{{#instance}}
<div class="ggrc-form">
  <form action="javascript://">
    <div class="ggrc-form-item">
      <div class="ggrc-form-item__multiple-row">
        <label class="form-label ggrc-form-item__label">State</label>
        <dropdown
          options-list="model.statuses"
          name="instance.status">
        </dropdown>
      </div>
      <div class="ggrc-form-item__multiple-row">
        <label class="form-label ggrc-form-item__label">Document Type</label>
        <dropdown
          options-list="model.document_types"
          name="instance.document_type"
          {{^if instance.isNew}}is-disabled="true"{{/if}}>
        </dropdown>
      </div>
    </div>
    
    <div class="ggrc-form-item">
      <div class="ggrc-form-item__row">
        <label class="form-label required-label ggrc-form-item__label">
          {{#if_equals instance.document_type "EVIDENCE"}}
          Attachment
          {{else}}
          Url
          {{/if_equals}}
          <i class="fa fa-asterisk"></i>
        </label>
        {{#if instance.isNew}}
          {{#if_equals instance.document_type "EVIDENCE"}}
          <document-file-picker
            {document}="instance">
          </document-file-picker>
          {{else}}
          <input class="input-block-level" placeholder="Add Url" type="text" {($value)}="instance.link" {^$value}="instance.title">
          {{/if_equals}}
        {{else}}
        <document-object-list-item
          {instance}="instance">
        </document-object-list-item>
        {{/if}}
      </div>
    </div>

    <div class="ggrc-form-item">
      <div class="ggrc-form-item__row">
        <label class="ggrc-form-item__label">
          Description
        </label>
        <div class="wysiwyg-area">
          <textarea tabindex="2" id="document_description" class="span12 triple wysihtml5" name="description" placeholder="Enter Description">{{{instance.description}}}</textarea>
        </div>
      </div>
    </div>

    <access-control-list-roles-helper
      {instance}="."
      {is-new-instance}="new_object_form">
    </access-control-list-roles-helper>

    <div class="ggrc-form-item">
      <div class="ggrc-form-item__multiple-row">
        <label class="ggrc-form-item__label">
          Code
        </label>
        <input class="input-block-level" name="slug" placeholder="DOCUMENT-XXX" type="text" {$value}="slug">
      </div>
    </div>
  </form>
</div>
{{/instance}}
